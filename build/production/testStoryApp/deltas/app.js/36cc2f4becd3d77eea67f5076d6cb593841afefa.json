["function _b9da06474a20e98835592829ee62e6af21dc4883",50,284182,284596,5047,292036,23188,316557,215642,"srcUrl\",type:\"string\"",534688,36,"MainContaine",312335,32,532287,139,"Id:\"mediaBar\",items:[{iconCls:\"icon-vcard\",itemId:\"settingButton\",align:\"left\"},{iconCls:\"icon-cog\",itemId:\"userProfileButton",532473,38,"temI",532511,93,"temId:\"camera\",iconCls:\"icon-camera\"},{xtype:\"button\",flex:1,itemId:\"video\",iconCls:\"icon-camera2\"},{xtype:\"button\",flex:1,itemId:\"note\",iconCls:\"compose\"},{xtype:\"button\",flex:1,itemId:\"audio\",iconCls:\"icon-microphone\"},{xtype:\"button\",flex:1,itemId:\"changeView\",iconCls:\"icon-dribbble\"},{xtype:\"button\",flex:1,itemId:\"sort\",iconCls:\"icon-menu\"},]},{xtype:\"panel\",html:\"<center>Capture list Empty</center>\",hidden:true,itemId:\"emptyPanel\",height:\"100%\",padding:100},{xtype:\"list\",itemI",533084,36,"able",533120,104,",hidden:false},{xtype:\"dataview\",height:\"100%\",itemId:\"gridView\",styleHtmlContent:true,width:\"100%\",layout:{type:\"fit\"},inline:{wrap:true},itemCls:\"capture-entry1\",itemTpl:['<img src=\"{url}\"></img>'],store:\"myStoreID\",hidden:true",534688,36,"View\",{extend:Ext.Panel,xtype:\"view\",config:{fullscreen:true,layout:\"vbox\",items:[{xtype:\"toolbar\",docked:\"top\",title:\"Information\",itemId:\"titlebarInfo\",items:[{xtype:\"button\",text:\"back\",itemId:\"backButton\",align:\"left\"},{xtype:\"spacer\"},{xtype:\"button\",text:\"delete\",itemId:\"deleteButton\",align:\"right\"}]},{xtype:\"component\",itemId:\"htmlCmp\",html:\"testing\",flex:4,align:\"center\",height:\"100%\",width:\"100%\"},{html:\"Capture details\",flex:2},{xtype:\"toolbar\",itemId:\"buttonPanel\",layout:\"hbox\",hidden:true,docked:\"bottom\",ui:\"light\",items:[{xtype:\"button\",text:\"play\",itemId:\"play\",flex:1},{xtype:\"button\",text:\"Stop\",itemId:\"stop\",flex:1}]",534688,36,532256,35,"\",config:{layout:\"card\",items:[{xtype:\"mainview\"},{xtype:\"view",532219,32,533255,58,"store:null,record:null,media:null,refs:{main:\"main\",mainView:\"mainview\",camera:\"mainview > #widgets > #camera\",video:\"mainview > #widgets > #video\",note:\"mainview > #widgets > #note\",audio:\"mainview > #widgets > #audio\",view:\"mainview > #widgets > #changeView\",settingsButton:\"mainview > #mediaBar >#settingButton\",gridView:\"mainview > #gridView \",listView:\"mainview > #capturelist\",emptyPanel:\"mainview > #emptyPanel\",componentview:\"view\",cmp:\"view >#htmlCmp\",buttonCmp:\"view >#buttonPanel\",stop:\"view >#buttonPanel >#stop\",play:\"view >#buttonPanel >#play\",backbutton:\"view >#titlebarInfo >#backButton\",deletebutton:\"view >#titlebarInfo >#deleteButton\",},control:{camera:{tap:\"onCamera\"},video:{tap:\"onVideo\"},note:{tap:\"onNote\"},audio:{tap:\"onAudio\"},backbutton:{tap:\"onBackButton\"},view:{tap:\"changeIconOnButtonTap\"},listView:{itemtap:\"itemTapped\"},stop:{tap:\"onStop\"},play:{tap:\"onPlay\"},deletebutton:{tap:\"onDeleteButton\"},settingsButton:{tap:\"onSettingButton\"}}},onCamera:function(){var c=function(f){var e=f[0].fullPath;alert(\"captured path\"+e);if(e.length>0){var d=Ext.getStore(\"myStoreID\");a.hide();d.add({title:\"green\",type:\"Image\",url:e,srcUrl:e});d.sync()}};var b=function(d",534559,46,"d.code,null,\"Capture Error\")};var a=this.getEmptyPanel()",535420,33,"Image(c,b,{limit:1})},onVideo:function(){var c=function(f){var e=f[0].fullPath;alert(\"captured path\"+e);if(e.length>0){a.hide();var d=Ext.getStore(\"myStoreID\");d.add({title:\"blue\",type:\"Video\",url:e,srcUrl:e});d.sync()}};var b=function(d",534559,46,"d.code,null,\"Capture Error\")};var a=this.getEmptyPanel()",535420,39,"c,b,{limit:1})},onNote:function(b,c,a){if(!b.sheet){b.sheet=Ext.widget(\"sheet\",{height:window.innerHeight,width:window.innerWidth,hideOnMaskTap:true,layout:\"vbox\",scrollable",537577,36,"id:\"note\",label:\"Note\",maxRows:10,flex:1,},{xtype:\"button\",text:\"Save\",listeners:{tap:function(i,k,h){var g;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,l,d);function l(n){alert(\"got the handerl\");var p=new Date();alert(p.toDateString());var m=\"Note-\"+p.getFullYear()+\"-\"+p.getMonth()+\"-\"+p.getDate()+\"-\"+p.getHours()+\"-\"+p.getMinutes()+\"-\"+p.getSeconds()+\".txt\";alert(\"Note-\"+p.getFullYear()+\"-\"+p.getMonth()+\"-\"+p.getDate()+\"-\"+p.getHours()+\"-\"+p.getMinutes()+\"-\"+p.getSeconds()+\".txt\");n.root.getFile(m,{create:true,exclusive:false},j,d);var e=Ext.getStore(\"myStoreID\");var o=\"resources/icons/notes.png\"}function j(e){g=e;alert(\"url is\"+e.fullPath);e.createWriter(f,d)}function f(n){var m=Ext.getCmp(\"note\").getValue();alert(m);n.write(m);var o=\"resources/icons/notes.png\";var e=Ext.getStore(\"myStoreID\");e.add({title:\"white\",type:\"Note\",url:o,srcUrl:g.getfullPath});e.sync()}function d(e){console.log(e.code);alert(\"failed\")}b.sheet.hide()}}},{xtype:\"button\",text:\"Cancel\",listeners:{tap:function(f,g,d){b.sheet.hide()}}}]});Ext.Viewport.add(b.sheet)}b.sheet.show()},onAudio:function(){var a=this.getEmptyPanel();var c=function(f){var e=f[0].fullPath;alert(\"captured path is \"+e);a.hide();var d=Ext.getStore(\"myStoreID\");d.add({title:\"yellow\",type:\"Audio\",url:\"resources/icons/audio.jpeg\",srcUrl:e});d.sync()};var b=function(d",534559,46,"d",535392,61,"Audio(c,b)},launch:function(){this.setStore(Ext.getStore(\"myStoreID\"));this.getStore().load();if(this.getStore().getCount()==0){this.getEmptyPanel().show()}},init:function(){},changeIconOnButtonTap:function(b,c,a){if(b.getIconCls()===\"icon-microphone\"){b.setIconCls(\"icon-dribbble\");this.getListView().show();this.getGridView().hide()}else{b.setIconCls(\"icon-microphone\");this.getGridView().show();this.getListView().hide()}},onGridSelect:function(d,b,g,a,f,c){alert(\"item tapped\")},itemTapped:function(i,f,g,d,h,j){var d=this.getStore().getAt(f);this.setRecord(d);var k=this.getRecord().get(\"type\");var b=this.getRecord().get(\"srcUrl\");this.getButtonCmp().hide();var a;if(k===\"Image\"){a='<img width=\"100%\" height=\"200\" src=\"'+b+'\" />'}else{if(k===\"Video\"){a='<video id=\"video\" controls preload=\"none\" width=\"100%\" height=\"200\"> <source src=\"'+b+'\" type=\"video/mp4\"/></video>'}else{if(k===\"Audio\"){a='<img src=\"resources/icons/audio.jpeg\" width=\"100%\" height=\"50%\" />';this.getButtonCmp().show();var c=new Media(b,function(){},function(l){alert(\"Cannot play the audio \"+l.message)});this.setMedia(c)}}}this.getCmp().setHtml(a);alert(this.getCmp().getHtml());this.getMain().setActiveItem(1)},onStop:function(){if(this.getMedia()){this.getMedia().stop()}},onPlay:function(){if(this.getMedia()){alert(\"text is \"+this.getPlay().getText());this.getMedia().play()}},onBackButton:function(){alert(\"in back button\");this.getMain().setActiveItem(0)},onDeleteButton:function(){var e=this.getRecord().get(\"srcUrl\").substring(5);alert(\"path to delete\"+e);var c=this.getStore();var a=this.getMain();window.requestFileSystem(LocalFileSystem.PERSISTENT,0,g,b);function g(h){alert('fileSystem.root.getFile(\"readme.txt\", null, gotFileEntry, fail)');h.root.getFile(e,null,d,b)}function d(h){alert(\"in file Entry\"+h.name);h.remove(f,b)}function b(h){alert(\"Failed to Delete with Error\"+h.code)}function f(){alert(\"File is successfully removed\");c.remove(this.getRecord());c.sync();a.setActiveItem(0)}},onSettingButton:function(){alert(\"on settings button\")",532222,34,"captureList\",{extend:Ext.List,xtype:\"captureList\",config:{id:\"capturelist\",store:\"myStoreID\",limit:10,disableSelection:true,height:\"100%",533148,76,",",535476,140,"proxy:{type:\"localstorage\",",535752,59,"ptureList\",\"MainContainer\",\"",535827,650,";Ext.override(Ext.Media,{setSrc:function(a){alert(\"override\");this.media.dom.src=a}}",536476,207]