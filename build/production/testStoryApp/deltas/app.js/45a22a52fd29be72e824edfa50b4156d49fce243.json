["function _b9da06474a20e98835592829ee62e6af21dc488",49,284183,284596,5047,292036,23188,316557,115471,".proxy.WebStorage",356867,34,"ternateClassName:\"Ext.data.WebStorageProxy\",config:{id:undefined,reader:null,writer:null,enablePagingParams:false,defaultDateFormat:\"Y-m-d H:i:s.u",182252,32,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}this.callParent(arguments)},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){k=this.getRecord(a[j]);if(k){e.push(k)}}m",328848,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",357101,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(c){if(this.cache[c]===undefined){var m=this.getRecordKey(c),n=this.getStorageObject().getItem(m),g={},e=this.getModel(),k=e.getFields().items,d=k.length,h,l,b,j,a,f;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<d;h++){l=k[h];b=l.getName();f=a[b];if(typeof l.getDecode()==\"function\"){g[b]=l.getDecode()(f)}else{if(l.getType().type==\"date\"){g[b]=this.readDate(l,f)}else{g[b]=f}}}j=new e(g,c);this.cache[c]=j}return this.cache[c]},setRecord:function(l,c){if(c){l.setId(c)}else{c=l.getId()}var o=this,a=l.getData(),k={},f=o.getModel(),m=f.getFields().items,d=m.length,j=0,g,p,b,h,q;for(;j<d;j++){p=m[j];b=p.getName();g=a[b];if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[b]=p.getEncode()(g,l)}else{if(p.getType().type==\"date\"&&Ext.isDate(g)){k[b]=this.writeDate(p,g)}else{k[b]=g}}}h=o.getStorageObject();q=o.getRecordKey(c);o.cache[c]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",357452,35,")}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}delete this.cache[d];b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,d)}catch(b",357452,34,"b)}}},writeDate:function(c,b){if(Ext.isEmpty(b)",349285,39,"this.getDefaultDateFormat()",349335,119,"readDate:function(c,b){if(Ext.isEmpty(b)",349285,39,"this.getDefaultDateFormat()",349335,34,"new Date(b*1000);case\"time\":return new Date(b);default:return Ext.isDate(b)?b:Ext.Date.parse(b,a)}",371310,40,"arguments);var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\")}catch(b",357452,34,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject",189616,32,"data.proxy.LocalStorage\",{extend:Ext.data.proxy.WebStorage,alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage}",432005,95604,",{name:\"srcUrl",527593,55,"Containe",312335,32,"mainview\",config:{scroll:\"none",527715,109,"Id:\"mediaBar\",items:[{iconCls:\"icon-vcard\",itemId:\"settingButton\",align:\"left\"},{iconCls:\"icon-cog\",itemId:\"userProfileButton",527871,38,"temI",527909,93,"temId:\"camera\",iconCls:\"icon-camera\"},{xtype:\"button\",flex:1,itemId:\"video\",iconCls:\"icon-camera2\"},{xtype:\"button\",flex:1,itemId:\"note\",iconCls:\"compose\"},{xtype:\"button\",flex:1,itemId:\"audio\",iconCls:\"icon-microphone\"},{xtype:\"button\",flex:1,itemId:\"changeView\",iconCls:\"icon-dribbble\"},{xtype:\"button\",flex:1,itemId:\"sort\",iconCls:\"icon-menu\"},]},{xtype:\"panel\",html:\"<center>Capture list Empty</center>\",hidden:true,itemId:\"emptyPanel\",height:\"100%\",padding:100},{xtype:\"list\",itemId:\"capturelist\",height:\"100%\",scrollable:\"vertical\",store:\"myStoreID\",itemTpl:'<h1>{type} </h1> <img src=\"{url}\"></img>',itemCls:\"capture-entry\",hidden:false},{xtype:\"dataview\",height:\"100%\",itemId:\"gridView\",styleHtmlContent:true,width:\"100%\",layout:{type:\"fit\"},inline:{wrap:true},itemCls:\"capture-entry1\",itemTpl:['<img src=\"{url}\"></img>'],store:\"myStoreID\",hidden:true",529756,36,"View\",{extend:Ext.Panel,xtype:\"view\",config:{fullscreen:true,layout:\"vbox\",items:[{xtype:\"toolbar\",docked:\"top\",title:\"Information\",itemId:\"titlebarInfo\",items:[{xtype:\"button\",text:\"back\",itemId:\"backButton\",align:\"left\"},{xtype:\"spacer\"},{xtype:\"button\",text:\"delete\",itemId:\"deleteButton\",align:\"right\"}]},{xtype:\"component\",itemId:\"htmlCmp\",html:\"testing\",flex:4,align:\"center\",height:\"100%\",width:\"100%\"},{html:\"Capture details\",flex:2},{xtype:\"toolbar\",itemId:\"buttonPanel\",layout:\"hbox\",hidden:true,docked:\"bottom\",ui:\"light\",items:[{xtype:\"button\",text:\"play\",itemId:\"play\",flex:1},{xtype:\"button\",text:\"Stop\",itemId:\"stop\",flex:1}]",529756,36,527644,35,"\",config:{layout:\"card\",items:[{xtype:\"mainview\"},{xtype:\"view",527607,32,528562,58,"store:null,record:null,media:null,refs:{main:\"main\",mainView:\"mainview\",camera:\"mainview > #widgets > #camera\",video:\"mainview > #widgets > #video\",note:\"mainview > #widgets > #note\",audio:\"mainview > #widgets > #audio\",view:\"mainview > #widgets > #changeView\",settingsButton:\"mainview > #mediaBar >#settingButton\",gridView:\"mainview > #gridView \",listView:\"mainview > #capturelist\",emptyPanel:\"mainview > #emptyPanel\",componentview:\"view\",cmp:\"view >#htmlCmp\",buttonCmp:\"view >#buttonPanel\",stop:\"view >#buttonPanel >#stop\",play:\"view >#buttonPanel >#play\",backbutton:\"view >#titlebarInfo >#backButton\",deletebutton:\"view >#titlebarInfo >#deleteButton\",},control:{camera:{tap:\"onCamera\"},video:{tap:\"onVideo\"},note:{tap:\"onNote\"},audio:{tap:\"onAudio\"},backbutton:{tap:\"onBackButton\"},view:{tap:\"changeIconOnButtonTap\"},listView:{itemtap:\"itemTapped\"},stop:{tap:\"onStop\"},play:{tap:\"onPlay\"},deletebutton:{tap:\"onDeleteButton\"},settingsButton:{tap:\"onSettingButton\"}}},onCamera:function(){var c=function(f){var e=f[0].fullPath;alert(\"captured path\"+e);if(e.length>0){var d=Ext.getStore(\"myStoreID\");a.hide();d.add({title:\"green\",type:\"Image\",url:e,srcUrl:e});d.sync()}};var b=function(d",530366,46,"d.code,null,\"Capture Error\")};var a=this.getEmptyPanel()",530441,33,"Image(c,b,{limit:1})},onVideo:function(){var c=function(f){var e=f[0].fullPath;alert(\"captured path\"+e);if(e.length>0){a.hide();var d=Ext.getStore(\"myStoreID\");d.add({title:\"blue\",type:\"Video\",url:e,srcUrl:e});d.sync()}};var b=function(d",530366,46,"d.code,null,\"Capture Error\")};var a=this.getEmptyPanel()",530441,39,"c,b,{limit:1})},onNote:function(b,c,a){if(!b.sheet){b.sheet=Ext.widget(\"sheet\",{height:window.innerHeight,width:window.innerWidth,hideOnMaskTap:true,layout:\"vbox\",scrollable",532423,36,"id:\"note\",label:\"Note\",maxRows:10,flex:1,},{xtype:\"button\",text:\"Save\",listeners:{tap:function(i,k,h){var g;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,l,d);function l(n){alert(\"got the handerl\");var p=new Date();alert(p.toDateString());var m=\"Note-\"+p.getFullYear()+\"-\"+p.getMonth()+\"-\"+p.getDate()+\"-\"+p.getHours()+\"-\"+p.getMinutes()+\"-\"+p.getSeconds()+\".txt\";alert(\"Note-\"+p.getFullYear()+\"-\"+p.getMonth()+\"-\"+p.getDate()+\"-\"+p.getHours()+\"-\"+p.getMinutes()+\"-\"+p.getSeconds()+\".txt\");n.root.getFile(m,{create:true,exclusive:false},j,d);var e=Ext.getStore(\"myStoreID\");var o=\"resources/icons/notes.png\"}function j(e){g=e;alert(\"url is\"+e.fullPath);e.createWriter(f,d)}function f(n){var m=Ext.getCmp(\"note\").getValue();alert(m);n.write(m);var o=\"resources/icons/notes.png\";var e=Ext.getStore(\"myStoreID\");e.add({title:\"white\",type:\"Note\",url:o,srcUrl:g.getfullPath});e.sync()}function d(e){console.log(e.code);alert(\"failed\")}b.sheet.hide()}}},{xtype:\"button\",text:\"Cancel\",listeners:{tap:function(f,g,d){b.sheet.hide()}}}]});Ext.Viewport.add(b.sheet)}b.sheet.show()},onAudio:function(){var a=this.getEmptyPanel();var c=function(f){var e=f[0].fullPath;alert(\"captured path is \"+e);a.hide();var d=Ext.getStore(\"myStoreID\");d.add({title:\"yellow\",type:\"Audio\",url:\"resources/icons/audio.jpeg\",srcUrl:e});d.sync()};var b=function(d",530366,46,"d",530413,61,"Audio(c,b)},launch:function(){this.setStore(Ext.getStore(\"myStoreID\"));this.getStore().load();if(this.getStore().getCount()==0){this.getEmptyPanel().show()}},init:function(){},changeIconOnButtonTap:function(b,c,a){if(b.getIconCls()===\"icon-microphone\"){b.setIconCls(\"icon-dribbble\");this.getListView().show();this.getGridView().hide()}else{b.setIconCls(\"icon-microphone\");this.getGridView().show();this.getListView().hide()}},onGridSelect:function(d,b,g,a,f,c){alert(\"item tapped\")},itemTapped:function(i,f,g,d,h,j){var d=this.getStore().getAt(f);this.setRecord(d);var k=this.getRecord().get(\"type\");var b=this.getRecord().get(\"srcUrl\");this.getButtonCmp().hide();var a;if(k===\"Image\"){a='<img width=\"100%\" height=\"200\" src=\"'+b+'\" />'}else{if(k===\"Video\"){a='<video id=\"video\" controls preload=\"none\" width=\"100%\" height=\"200\"> <source src=\"'+b+'\" type=\"video/mp4\"/></video>'}else{if(k===\"Audio\"){a='<img src=\"resources/icons/audio.jpeg\" width=\"100%\" height=\"50%\" />';this.getButtonCmp().show();var c=new Media(b,function(){},function(l){alert(\"Cannot play the audio \"+l.message)});this.setMedia(c)}}}this.getCmp().setHtml(a);alert(this.getCmp().getHtml());this.getMain().setActiveItem(1)},onStop:function(){if(this.getMedia()){this.getMedia().stop()}},onPlay:function(){if(this.getMedia()){alert(\"text is \"+this.getPlay().getText());this.getMedia().play()}},onBackButton:function(){alert(\"in back button\");this.getMain().setActiveItem(0)},onDeleteButton:function(){var e=this.getRecord().get(\"srcUrl\").substring(5);alert(\"path to delete\"+e);var c=this.getStore();var a=this.getMain();window.requestFileSystem(LocalFileSystem.PERSISTENT,0,g,b);function g(h){alert('fileSystem.root.getFile(\"readme.txt\", null, gotFileEntry, fail)');h.root.getFile(e,null,d,b)}function d(h){alert(\"in file Entry\"+h.name);h.remove(f,b)}function b(h){alert(\"Failed to Delete with Error\"+h.code)}function f(){alert(\"File is successfully removed\");c.remove(this.getRecord());c.sync();a.setActiveItem(0)}},onSettingButton:function(){alert(\"on settings button\"",529072,37,"ptureList\",{extend:Ext.List,xtype:\"captureList\",config:{id:\"capturelist\",store:\"myStoreID\",limit:10,disableSelection:true,height:\"100%\",itemTpl:'<h1>{type} </h1> <img src=\"{url}\"></img>',itemCls:\"capture-entry\",",530497,140,"proxy:{type:\"localstorage\",}",530725,58,"ptureList\",\"MainContainer\",\"",530799,650,";Ext.override(Ext.Media,{setSrc:function(a){alert(\"override\");this.media.dom.src=a}}",531448,207]